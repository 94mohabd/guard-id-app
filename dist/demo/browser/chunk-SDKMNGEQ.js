import{$a as y,Ba as S,Ea as v,La as s,Ma as P,Na as C,Oa as t,Pa as n,Qa as m,Ra as O,Sa as p,Ta as d,Xa as i,Y as u,Ya as c,Z as x,Za as f,_a as I,ab as b,bb as h,qa as g,rb as w,sa as r,sb as E,tb as T,ub as k}from"./chunk-5MQG5VT3.js";function D(o,_){if(o&1){let e=O();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),i(5,"Verification Error"),n(),t(6,"p",6),i(7),n()(),t(8,"div",7)(9,"button",8),p("click",function(){u(e);let a=d();return x(a.clearAndGoHome())}),i(10,"Try Again"),n()()()()()}if(o&2){let e=d();r(7),c(e.error)}}function V(o,_){if(o&1&&m(0,"img",51),o&2){let e=d(2);s("src",e.formatImageUrl((e.result==null?null:e.result.frontIdImage)||""),g)}}function z(o,_){if(o&1&&m(0,"img",52),o&2){let e=d(2);s("src",e.formatImageUrl((e.result==null?null:e.result.backIdImage)||""),g)}}function R(o,_){if(o&1&&m(0,"img",53),o&2){let e=d(2);s("src",e.formatImageUrl((e.result==null?null:e.result.selfieImage)||""),g)}}function F(o,_){if(o&1&&(t(0,"div",54)(1,"pre"),i(2),n(),t(3,"div",55),i(4,"Note: This data was extracted using OCR from the front of the ID. It is compared against barcode data for accuracy validation."),n()()),o&2){let e=d(2);r(2),c((e.result==null||e.result.extractedLinesFrontID==null?null:e.result.extractedLinesFrontID.join(`
`))||"")}}function j(o,_){if(o&1){let e=O();t(0,"div",1)(1,"div",9)(2,"div",3)(3,"div",4)(4,"h1"),i(5,"ID Verification Results"),n(),t(6,"p"),i(7,"Comprehensive analysis of the provided identification documents"),n()(),t(8,"div",7)(9,"div",10),i(10,"Verification Successful"),n(),t(11,"div",11)(12,"span",12),i(13),b(14,"number"),n()(),t(15,"div",13)(16,"div",14)(17,"span"),i(18,"Face Match:"),n(),t(19,"div",15),m(20,"div",16),n(),t(21,"span"),i(22),n()(),t(23,"div",14)(24,"span"),i(25,"Text Match:"),n(),t(26,"div",15),m(27,"div",17),n(),t(28,"span"),i(29),n()()(),t(30,"button",18),p("click",function(){u(e);let a=d();return x(a.clearAndGoHome())}),i(31,"Verify New ID"),n()()()(),t(32,"div",19)(33,"div",20)(34,"button",21),p("click",function(){u(e);let a=d();return x(a.activeTab="front")}),i(35,"Front of ID"),n(),t(36,"button",21),p("click",function(){u(e);let a=d();return x(a.activeTab="back")}),i(37,"Back of ID"),n(),t(38,"button",21),p("click",function(){u(e);let a=d();return x(a.activeTab="selfie")}),i(39,"Selfie"),n()(),t(40,"div",22),v(41,V,1,1,"img",23)(42,z,1,1,"img",24)(43,R,1,1,"img",25),n()(),t(44,"div",26)(45,"div",27)(46,"div",28)(47,"div",29)(48,"span",30),i(49,"Identity Information From Barcode"),n(),t(50,"span",31),i(51),n()(),t(52,"div",32)(53,"div",33)(54,"div",34),i(55,"Full Name:"),n(),t(56,"div",35),i(57),n(),t(58,"div",34),i(59,"Customer ID:"),n(),t(60,"div",35),i(61),n(),t(62,"div",34),i(63,"Date of Birth:"),n(),t(64,"div",35),i(65),b(66,"date"),n(),t(67,"div",34),i(68,"Gender:"),n(),t(69,"div",35),i(70),n(),t(71,"div",34),i(72,"Height:"),n(),t(73,"div",35),i(74),n()(),t(75,"div",33)(76,"div",34),i(77,"Street:"),n(),t(78,"div",35),i(79),n(),t(80,"div",34),i(81,"City:"),n(),t(82,"div",35),i(83),n(),t(84,"div",34),i(85,"State:"),n(),t(86,"div",35),i(87),n(),t(88,"div",34),i(89,"Postal Code:"),n(),t(90,"div",35),i(91),n(),t(92,"div",34),i(93,"Country:"),n(),t(94,"div",35),i(95),n()(),t(96,"div",33)(97,"div",34),i(98,"Issue Date:"),n(),t(99,"div",35),i(100),b(101,"date"),n(),t(102,"div",34),i(103,"Expiry Date:"),n(),t(104,"div",35),i(105),b(106,"date"),n(),t(107,"div",34),i(108,"Document Discriminator:"),n(),t(109,"div",35),i(110),n(),t(111,"div",34),i(112,"Issuer ID:"),n(),t(113,"div",35),i(114),n()()()()(),t(115,"div",36)(116,"div",37)(117,"div",38)(118,"span"),i(119,"Face Comparison"),n(),t(120,"span",39),i(121,"MATCH"),n()(),t(122,"div",40)(123,"div",41),m(124,"img",42),t(125,"div",43),i(126,"ID Image"),n()(),t(127,"div",41),m(128,"img",44),t(129,"div",43),i(130,"Selfie"),n()()(),t(131,"div",45)(132,"span",12),i(133),b(134,"number"),n()(),t(135,"div",46),i(136," The facial features match the ID with sufficient confidence."),m(137,"br"),i(138),n()()()(),t(139,"div",47)(140,"div",48)(141,"span"),i(142,"Extracted Front of ID Text"),n(),t(143,"button",49),p("click",function(){u(e);let a=d();return x(a.showExtractedDetails=!a.showExtractedDetails)}),i(144),n()(),v(145,F,5,1,"div",50),n()()}if(o&2){let e=d();r(13),f("",h(14,40,e.result==null?null:e.result.overallScore,"1.0-0"),"%"),r(7),P("width",((e.result==null?null:e.result.faceScorePercentage)||0)+"%"),r(2),f("",(e.result==null?null:e.result.faceScorePercentage)||0,"%"),r(5),P("width",((e.result==null?null:e.result.textSimilarity)||0)+"%"),r(2),f("",(e.result==null?null:e.result.textSimilarity)||0,"%"),r(5),C("active",e.activeTab==="front"),r(2),C("active",e.activeTab==="back"),r(2),C("active",e.activeTab==="selfie"),r(3),s("ngIf",e.activeTab==="front"),r(),s("ngIf",e.activeTab==="back"),r(),s("ngIf",e.activeTab==="selfie"),r(8),f("Text Similarity: ",(e.result==null?null:e.result.textSimilarity)||0,"% Good Match"),r(6),y("",e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.firstName," ",e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.middleName," ",e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.lastName,""),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.customerID),r(4),c(h(66,43,e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.dateOfBirth,"shortDate")),r(5),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.sex),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.height),r(5),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.street),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.city),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.state),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.postalCode),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.country),r(5),c(h(101,46,e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.issueDate,"shortDate")),r(5),c(h(106,49,e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.expiryDate,"shortDate")),r(5),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.documentDiscriminator),r(4),c(e.result==null||e.result.barcodeText==null?null:e.result.barcodeText.issuerIdentificationNumber),r(10),s("src",e.formatImageUrl((e.result==null?null:e.result.frontIdFaceImage)||""),g),r(4),s("src",e.formatImageUrl((e.result==null?null:e.result.selfieFaceImage)||""),g),r(5),f("",h(134,52,(e.result==null?null:e.result.faceScorePercentage)||0,"1.0-0"),"%"),r(5),I(" Score: ",e.result==null?null:e.result.faceScore," (Threshold: ",e.result==null?null:e.result.threshold,") "),r(6),f(" ",e.showExtractedDetails?"Hide Details":"Show Details"," "),r(),s("ngIf",e.showExtractedDetails)}}var H=(()=>{class o{constructor(){this.matches=[],this.noMatches=[],this.score=0,this.totalWordsChecked=0,this.activeTab="front",this.showExtractedDetails=!0,this.showMetadataDetails=!0}ngOnInit(){let e=localStorage.getItem("verificationResult");if(e)try{let l=JSON.parse(e);if(l&&l.error&&l.error.message)this.error=l.error.message;else if(this.result=l,this.result?.stringLines){let a=this.result.stringLines.split(`
`);this.matches=a.filter(M=>M.startsWith("Match:")),this.noMatches=a.filter(M=>M.startsWith("No Match:")),this.score=this.matches.length,this.totalWordsChecked=this.matches.length+this.noMatches.length}}catch{this.error="Error parsing verification result."}else this.error="No verification result found. Please complete the verification process."}formatImageUrl(e){return e?e.startsWith("data:image")?e:`data:image/jpeg;base64,${e}`:""}clearAndGoHome(){localStorage.clear(),window.location.href="/id-upload-front"}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-verification-result"]],decls:2,vars:2,consts:[["class","result-container",4,"ngIf"],[1,"result-container"],[1,"error-header","card-result","restyled-header"],[1,"summary-header-content"],[1,"summary-left"],[2,"color","#b91c1c"],[2,"color","#991b1b","font-weight","500"],[1,"summary-right"],[1,"error-btn",3,"click"],[1,"summary-header","card-result","restyled-header"],[1,"status-badge","success"],[1,"score-circle"],[1,"score"],[1,"score-bars"],[1,"score-bar"],[1,"bar"],[1,"fill",2,"background","#3b82f6"],[1,"fill",2,"background","#a21caf"],[1,"verify-btn",3,"click"],[1,"card-result","images-card"],[1,"tabs"],[3,"click"],[1,"tab-content"],["alt","Front of ID","class","doc-image",3,"src",4,"ngIf"],["alt","Back of ID","class","doc-image",3,"src",4,"ngIf"],["alt","Selfie","class","doc-image",3,"src",4,"ngIf"],[1,"main-grid"],[1,"left-col"],[1,"card-result","info-card"],[1,"info-header"],[1,"info-title"],[1,"match-badge","good"],[1,"info-section"],[1,"info-block"],[1,"info-label"],[1,"info-value"],[1,"right-col"],[1,"card-result","face-card"],[1,"face-header"],[1,"match-badge","match"],[1,"face-images"],[1,"face-img-block"],["alt","ID Image",3,"src"],[1,"face-label"],["alt","Selfie",3,"src"],[1,"face-score-circle"],[1,"face-match-desc"],[1,"card-result","extracted-card"],[1,"extracted-header"],[1,"hide-details",3,"click"],["class","extracted-content",4,"ngIf"],["alt","Front of ID",1,"doc-image",3,"src"],["alt","Back of ID",1,"doc-image",3,"src"],["alt","Selfie",1,"doc-image",3,"src"],[1,"extracted-content"],[1,"note"]],template:function(l,a){l&1&&v(0,D,11,1,"div",0)(1,j,146,55,"div",0),l&2&&(s("ngIf",a.error),r(),s("ngIf",!a.error))},dependencies:[k,w,T,E],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background:#f6faf9}.result-container[_ngcontent-%COMP%]{min-height:100vh;padding:32px;max-width:1400px;margin:0 auto;box-sizing:border-box}.main-grid[_ngcontent-%COMP%]{display:flex;gap:32px;justify-content:center}.card-result[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 8px #0000000a;margin-bottom:24px;padding:24px;width:100%;box-sizing:border-box}.left-col[_ngcontent-%COMP%], .right-col[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:24px;min-width:0}.info-card[_ngcontent-%COMP%], .location-card[_ngcontent-%COMP%], .face-card[_ngcontent-%COMP%], .extracted-card[_ngcontent-%COMP%], .metadata-card[_ngcontent-%COMP%]{min-width:0}.restyled-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f4ff,#e0f7fa);border:1.5px solid #e0e7ff;box-shadow:0 4px 24px #38bdf814;border-radius:18px;margin-bottom:36px;padding:32px 36px 24px;display:flex;align-items:center;justify-content:center}.summary-header-content[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;gap:32px}.summary-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:2.2rem;font-weight:700;color:#1e293b}.summary-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0;font-size:1.1rem}.summary-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:10px}.verify-btn[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:10px 28px;font-weight:700;font-size:1.08rem;margin-bottom:10px;margin-left:0;cursor:pointer;box-shadow:0 2px 8px #2563eb14;transition:background .2s,color .2s,box-shadow .2s}.verify-btn[_ngcontent-%COMP%]:hover{background:#1d4ed8;color:#fff;box-shadow:0 4px 16px #2563eb21}.status-badge[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46;border-radius:8px;padding:6px 16px;font-weight:600;margin-bottom:12px}.status-badge.success[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.score-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;font-size:1.7rem;font-weight:700;color:#10b981;margin-bottom:12px}.score-bars[_ngcontent-%COMP%]{width:220px}.score-bar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:6px;font-size:.95rem}.score-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{width:110px;color:#374151}.bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#e5e7eb;border-radius:4px;margin:0 8px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;border-radius:4px}.view-details[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;border-radius:8px;padding:6px 18px;font-weight:600;margin-top:8px;cursor:pointer}.images-card[_ngcontent-%COMP%]{margin-bottom:32px}.tabs[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid #e5e7eb;margin-bottom:16px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:12px 24px;font-size:1rem;cursor:pointer;color:#6b7280;border-bottom:2px solid transparent;transition:color .2s,border-color .2s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#3b82f6;border-bottom:2px solid #3b82f6;font-weight:600}.tab-content[_ngcontent-%COMP%]{text-align:center}.doc-image[_ngcontent-%COMP%]{max-width:100%;max-height:260px;border-radius:12px;box-shadow:0 1px 4px #0000000f}.info-header[_ngcontent-%COMP%], .face-header[_ngcontent-%COMP%], .extracted-header[_ngcontent-%COMP%], .metadata-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.info-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.match-badge[_ngcontent-%COMP%]{background:#f3f4f6;color:#10b981;border-radius:8px;padding:2px 12px;font-size:.95rem;font-weight:600}.match-badge.good[_ngcontent-%COMP%]{background:#e0e7ff;color:#2563eb}.match-badge.match[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.info-section[_ngcontent-%COMP%]{display:flex;gap:32px}.info-block[_ngcontent-%COMP%]{flex:1}.info-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.97rem;margin-top:8px}.info-value[_ngcontent-%COMP%]{font-weight:500;font-size:1.05rem;margin-bottom:4px}.location-section[_ngcontent-%COMP%]{display:flex;gap:32px}.location-block[_ngcontent-%COMP%]{flex:1}.distance-badge[_ngcontent-%COMP%]{background:#f3f4f6;color:#3b82f6;border-radius:8px;padding:4px 14px;font-weight:600;margin:12px 0;display:inline-block}.location-note[_ngcontent-%COMP%]{color:#6b7280;font-size:.97rem;margin-top:4px}.face-card[_ngcontent-%COMP%]{text-align:center}.face-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.face-images[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin-bottom:12px}.face-img-block[_ngcontent-%COMP%]{text-align:center}.face-img-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;object-fit:cover;border:2px solid #e5e7eb}.face-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin-top:4px}.face-score-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:700;color:#10b981;margin:0 auto 8px}.face-match-desc[_ngcontent-%COMP%]{color:#374151;font-size:.98rem;margin-bottom:8px}.extracted-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f3f4f6;border-radius:8px;padding:12px;font-size:1rem;margin:0 0 8px}.note[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin-top:4px;background:#e0e7ff;border-radius:6px;padding:6px 10px}.metadata-content[_ngcontent-%COMP%]{display:flex;gap:32px}.metadata-block[_ngcontent-%COMP%]{flex:1}.hide-details[_ngcontent-%COMP%]{background:none;border:none;color:#3b82f6;font-weight:600;cursor:pointer;font-size:.95rem}@media (max-width: 1100px){.main-grid[_ngcontent-%COMP%]{flex-direction:column;gap:0}.left-col[_ngcontent-%COMP%], .right-col[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 700px){.result-container[_ngcontent-%COMP%]{padding:8px;max-width:100vw}.summary-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.main-grid[_ngcontent-%COMP%]{flex-direction:column;gap:0}.left-col[_ngcontent-%COMP%], .right-col[_ngcontent-%COMP%]{gap:16px}.info-section[_ngcontent-%COMP%], .location-section[_ngcontent-%COMP%], .metadata-content[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}.error-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fef2f2,#f3e8ff);border:1.5px solid #fecaca;box-shadow:0 4px 24px #ef444414;border-radius:18px;margin-bottom:36px;padding:32px 36px 24px;display:flex;align-items:center;justify-content:center}.error-btn[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;border-radius:8px;padding:10px 28px;font-weight:700;font-size:1.08rem;margin-bottom:10px;margin-left:0;cursor:pointer;box-shadow:0 2px 8px #ef444414;transition:background .2s,color .2s,box-shadow .2s}.error-btn[_ngcontent-%COMP%]:hover{background:#b91c1c;color:#fff;box-shadow:0 4px 16px #ef444421}"]})}}return o})();export{H as VerificationResultComponent};
